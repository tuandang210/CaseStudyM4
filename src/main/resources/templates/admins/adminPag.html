<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Skydash Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- plugins:css -->
    <link rel="stylesheet" href="../../../admins/vendors/feather/feather.css">
    <link rel="stylesheet" href="../../../admins/vendors/ti-icons/css/themify-icons.css">
    <link rel="stylesheet" href="../../../admins/vendors/css/vendor.bundle.base.css">
    <!-- endinject -->
    <!-- Plugin css for this page -->
    <link rel="stylesheet" href="../../../admins/vendors/datatables.net-bs4/dataTables.bootstrap4.css">
    <!--  <link rel="stylesheet" href="../../../admins/vendors/ti-icons/css/themify-icons.css">-->
    <link rel="stylesheet" href="../../../admins/js/select.dataTables.min.css">
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <link rel="stylesheet" href="../../../admins/css/vertical-layout-light/style.css">
    <!-- endinject -->
    <!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"-->
    <!--          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">-->
    <style>
        .search {
            position: relative;
            box-shadow: 0 0 40px rgba(51, 51, 51, .1)
        }

        .search input {
            height: 55px;
            border: 2px solid #d6d4d4
        }

        .search input:focus {
            box-shadow: none;
            border: 2px solid blue
        }

        .search .fa-search {
            position: absolute;
            top: 20px;
            left: 16px
        }

        .search button {
            position: absolute;
            top: 5px;
            right: 5px;
            height: 45px;
            width: 100px;
            background: blue
        }

        #productList {
            table-layout: auto;
            text-align: center;
            vertical-align: middle;
        }

        #productList tr td {
            width: 10%
        }
    </style>
</head>
<body>


<div class="container-scroller">
    <!-- partial:partials/_navbar.html -->
    <nav class="navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row">
        <!--        Logo  -->
        <div class="text-center navbar-brand-wrapper d-flex align-items-center justify-content-center">
            <a class="navbar-brand brand-logo mr-5" href="#">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTCwbZnhzjj-CzWJ5jolN4axlj2OJL9PnmdrQ&amp;usqp=CAU"
                     class="mr-2" alt="logo" style="
                    object-fit: cover;
                    height: 50%;
                    width: 50%;">
            </a>
            <a class="navbar-brand brand-logo-mini" href="#">
                <img src="../../../admins/images/adminLogoPag.png" alt="logo"/></a>
        </div>
        <div class="navbar-menu-wrapper d-flex align-items-center justify-content-end">
            <button class="navbar-toggler navbar-toggler align-self-center" type="button" data-toggle="minimize">
                <span class="icon-menu"></span>
            </button>
            <ul class="navbar-nav mr-lg-2">
                <li class="nav-item nav-search d-none d-lg-block">
                    <div class="input-group">
                        <div class="input-group-prepend hover-cursor" id="navbar-search-icon">
                <span class="input-group-text" onclick="search()" id="search">
                  <i class="icon-search"></i>
                </span>
                        </div>
                        <input type="text" class="form-control" id="navbar-search-input" placeholder="Search now"
                               aria-label="search" aria-describedby="search">
                    </div>
                </li>
            </ul>
            <ul class="navbar-nav navbar-nav-right">
                <li class="nav-item dropdown">
                    <a class="nav-link count-indicator dropdown-toggle" id="notificationDropdown" href="#"
                       data-toggle="dropdown">
                        <i class="icon-bell mx-0"></i>
                        <span class="count"></span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right navbar-dropdown preview-list"
                         aria-labelledby="notificationDropdown">
                        <p class="mb-0 font-weight-normal float-left dropdown-header">Notifications</p>
                        <a class="dropdown-item preview-item">
                            <div class="preview-thumbnail">
                                <div class="preview-icon bg-success">
                                    <i class="ti-info-alt mx-0"></i>
                                </div>
                            </div>
                            <div class="preview-item-content">
                                <h6 class="preview-subject font-weight-normal">Application Error</h6>
                                <p class="font-weight-light small-text mb-0 text-muted">
                                    Just now
                                </p>
                            </div>
                        </a>
                        <a class="dropdown-item preview-item">
                            <div class="preview-thumbnail">
                                <div class="preview-icon bg-warning">
                                    <i class="ti-settings mx-0"></i>
                                </div>
                            </div>
                            <div class="preview-item-content">
                                <h6 class="preview-subject font-weight-normal">Settings</h6>
                                <p class="font-weight-light small-text mb-0 text-muted">
                                    Private message
                                </p>
                            </div>
                        </a>
                        <a class="dropdown-item preview-item">
                            <div class="preview-thumbnail">
                                <div class="preview-icon bg-info">
                                    <i class="ti-user mx-0"></i>
                                </div>
                            </div>
                            <div class="preview-item-content">
                                <h6 class="preview-subject font-weight-normal">New user registration</h6>
                                <p class="font-weight-light small-text mb-0 text-muted">
                                    2 days ago
                                </p>
                            </div>
                        </a>
                    </div>
                </li>
                <li class="nav-item nav-profile dropdown">
                    <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" id="profileDropdown">
                        <img src="data:image/png;base64,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"
                             alt="profile"/>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="profileDropdown">
                        <a class="dropdown-item">
                            <i class="ti-settings text-primary"></i>
                            Settings
                        </a>
                        <a id="logout" class="dropdown-item">
                            <i class="ti-power-off text-primary"></i>
                            Logout
                        </a>
                    </div>
                </li>
                <li class="nav-item nav-settings d-none d-lg-flex">
                    <a class="nav-link" href="#">
                        <i class="icon-ellipsis"></i>
                    </a>
                </li>
            </ul>
            <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button"
                    data-toggle="offcanvas">
                <span class="icon-menu"></span>
            </button>
        </div>
    </nav>
    <!-- partial -->
    <div class="container-fluid page-body-wrapper">
        <!-- partial:partials/_settings-panel.html -->
        <div class="theme-setting-wrapper">
            <div id="settings-trigger"><i class="ti-settings"></i></div>
            <div id="theme-settings" class="settings-panel">
                <i class="settings-close ti-close"></i>
                <p class="settings-heading">SIDEBAR SKINS</p>
                <div class="sidebar-bg-options selected" id="sidebar-light-theme">
                    <div class="img-ss rounded-circle bg-light border mr-3"></div>
                    Light
                </div>
                <div class="sidebar-bg-options" id="sidebar-dark-theme">
                    <div class="img-ss rounded-circle bg-dark border mr-3"></div>
                    Dark
                </div>
                <p class="settings-heading mt-2">HEADER SKINS</p>
                <div class="color-tiles mx-0 px-4">
                    <div class="tiles success"></div>
                    <div class="tiles warning"></div>
                    <div class="tiles danger"></div>
                    <div class="tiles info"></div>
                    <div class="tiles dark"></div>
                    <div class="tiles default"></div>
                </div>
            </div>
        </div>
        <div id="right-sidebar" class="settings-panel">
            <i class="settings-close ti-close"></i>
            <ul class="nav nav-tabs border-top" id="setting-panel" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="todo-tab" data-toggle="tab" href="#todo-section" role="tab"
                       aria-controls="todo-section" aria-expanded="true">TO DO LIST</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="chats-tab" data-toggle="tab" href="#chats-section" role="tab"
                       aria-controls="chats-section">CHATS</a>
                </li>
            </ul>
            <div class="tab-content" id="setting-content">
                <div class="tab-pane fade show active scroll-wrapper" id="todo-section" role="tabpanel"
                     aria-labelledby="todo-section">
                    <div class="add-items d-flex px-3 mb-0">
                        <form class="form w-100">
                            <div class="form-group d-flex">
                                <input type="text" class="form-control todo-list-input" placeholder="Add To-do">
                                <button type="submit" class="add btn btn-primary todo-list-add-btn" id="add-task">Add
                                </button>
                            </div>
                        </form>
                    </div>
                    <div class="list-wrapper px-3">
                        <ul class="d-flex flex-column-reverse todo-list">
                            <li>
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="checkbox" type="checkbox">
                                        Team review meeting at 3.00 PM
                                    </label>
                                </div>
                                <i class="remove ti-close"></i>
                            </li>
                            <li>
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="checkbox" type="checkbox">
                                        Prepare for presentation
                                    </label>
                                </div>
                                <i class="remove ti-close"></i>
                            </li>
                            <li>
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="checkbox" type="checkbox">
                                        Resolve all the low priority tickets due today
                                    </label>
                                </div>
                                <i class="remove ti-close"></i>
                            </li>
                            <li class="completed">
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="checkbox" type="checkbox" checked>
                                        Schedule meeting for next week
                                    </label>
                                </div>
                                <i class="remove ti-close"></i>
                            </li>
                            <li class="completed">
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="checkbox" type="checkbox" checked>
                                        Project review
                                    </label>
                                </div>
                                <i class="remove ti-close"></i>
                            </li>
                        </ul>
                    </div>
                    <h4 class="px-3 text-muted mt-5 font-weight-light mb-0">Events</h4>
                    <div class="events pt-4 px-3">
                        <div class="wrapper d-flex mb-2">
                            <i class="ti-control-record text-primary mr-2"></i>
                            <span>Feb 11 2018</span>
                        </div>
                        <p class="mb-0 font-weight-thin text-gray">Creating component page build a js</p>
                        <p class="text-gray mb-0">The total number of sessions</p>
                    </div>
                    <div class="events pt-4 px-3">
                        <div class="wrapper d-flex mb-2">
                            <i class="ti-control-record text-primary mr-2"></i>
                            <span>Feb 7 2018</span>
                        </div>
                        <p class="mb-0 font-weight-thin text-gray">Meeting with Alisa</p>
                        <p class="text-gray mb-0 ">Call Sarah Graves</p>
                    </div>
                </div>
                <!-- To do section tab ends -->
                <div class="tab-pane fade" id="chats-section" role="tabpanel" aria-labelledby="chats-section">
                    <div class="d-flex align-items-center justify-content-between border-bottom">
                        <p class="settings-heading border-top-0 mb-3 pl-3 pt-0 border-bottom-0 pb-0">Friends</p>
                        <small class="settings-heading border-top-0 mb-3 pt-0 border-bottom-0 pb-0 pr-3 font-weight-normal">See
                            All</small>
                    </div>
                    <ul class="chat-list">
                        <li class="list active">
                            <div class="profile"><img src="images/faces/face1.jpg" alt="image"><span
                                    class="online"></span></div>
                            <div class="info">
                                <p>Thomas Douglas</p>
                                <p>Available</p>
                            </div>
                            <small class="text-muted my-auto">19 min</small>
                        </li>
                        <li class="list">
                            <div class="profile"><img src="images/faces/face2.jpg" alt="image"><span
                                    class="offline"></span></div>
                            <div class="info">
                                <div class="wrapper d-flex">
                                    <p>Catherine</p>
                                </div>
                                <p>Away</p>
                            </div>
                            <div class="badge badge-success badge-pill my-auto mx-2">4</div>
                            <small class="text-muted my-auto">23 min</small>
                        </li>
                        <li class="list">
                            <div class="profile"><img src="images/faces/face3.jpg" alt="image"><span
                                    class="online"></span></div>
                            <div class="info">
                                <p>Daniel Russell</p>
                                <p>Available</p>
                            </div>
                            <small class="text-muted my-auto">14 min</small>
                        </li>
                        <li class="list">
                            <div class="profile"><img src="images/faces/face4.jpg" alt="image"><span
                                    class="offline"></span></div>
                            <div class="info">
                                <p>James Richardson</p>
                                <p>Away</p>
                            </div>
                            <small class="text-muted my-auto">2 min</small>
                        </li>
                        <li class="list">
                            <div class="profile"><img src="images/faces/face5.jpg" alt="image"><span
                                    class="online"></span></div>
                            <div class="info">
                                <p>Madeline Kennedy</p>
                                <p>Available</p>
                            </div>
                            <small class="text-muted my-auto">5 min</small>
                        </li>
                        <li class="list">
                            <div class="profile"><img src="images/faces/face6.jpg" alt="image"><span
                                    class="online"></span></div>
                            <div class="info">
                                <p>Sarah Graves</p>
                                <p>Available</p>
                            </div>
                            <small class="text-muted my-auto">47 min</small>
                        </li>
                    </ul>
                </div>
                <!-- chat tab ends -->
            </div>
        </div>
        <!-- partial -->
        <!-- partial:partials/_sidebar.html -->
        <nav class="sidebar sidebar-offcanvas" id="sidebar" style="width: 15%">
            <ul class="nav">
                <li class="nav-item">
                    <a class="nav-link" href="#">
                        <i class="icon-grid menu-icon"></i>
                        <span class="menu-title">Dashboard</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="collapse" href="#ui-basic" aria-expanded="false"
                       aria-controls="ui-basic">
                        <i class="icon-layout menu-icon"></i>
                        <span class="menu-title">Tables</span>
                        <i class="menu-arrow"></i>
                    </a>
                    <div class="collapse" id="ui-basic">
                        <ul class="nav flex-column sub-menu">
                            <li class="nav-item"><a class="nav-link" onclick="showTableCars()">Products</a>
                            </li>
                            <li class="nav-item"><a class="nav-link"
                                                    onclick="showTableClients()">Users</a></li>
                        </ul>
                    </div>
                </li>
                <!--                <li class="nav-item">-->
                <!--                    <a class="nav-link" data-toggle="collapse" href="#form-elements" aria-expanded="false"-->
                <!--                       aria-controls="form-elements">-->
                <!--                        <i class="icon-columns menu-icon"></i>-->
                <!--                        <span class="menu-title">Form elements</span>-->
                <!--                        <i class="menu-arrow"></i>-->
                <!--                    </a>-->
                <!--                    <div class="collapse" id="form-elements">-->
                <!--                        <ul class="nav flex-column sub-menu">-->
                <!--                            <li class="nav-item"><a class="nav-link" href="#">Basic-->
                <!--                                Elements</a></li>-->
                <!--                        </ul>-->
                <!--                    </div>-->
                <!--                </li>-->
            </ul>
        </nav>
        <!-- partial -->
        <div class="main-panel">
            <div class="content-wrapper" style="margin-left: -30px">
                <div class="row">
                    <div class="col-md-12 grid-margin">
                        <div class="row">
                            <div class="col-12 col-xl-8 mb-4 mb-xl-0">
                                <h3 class="font-weight-bold">Welcome Administrator</h3>
                                <h6 class="font-weight-normal mb-0">All systems are running smoothly!</h6>
                            </div>
                            <div class="col-12 col-xl-4">
                                <div class="justify-content-end d-flex">
                                    <div class="dropdown flex-md-grow-1 flex-xl-grow-0">
                                        <button class="btn btn-sm btn-light bg-white dropdown-toggle" type="button"
                                                id="dropdownMenuDate2" data-toggle="dropdown" aria-haspopup="true"
                                                aria-expanded="true">
                                            <i class="mdi mdi-calendar"></i> Today
                                        </button>
                                        <div class="dropdown-menu dropdown-menu-right"
                                             aria-labelledby="dropdownMenuDate2">
                                            <a class="dropdown-item" href="#">January - March</a>
                                            <a class="dropdown-item" href="#">March - June</a>
                                            <a class="dropdown-item" href="#">June - August</a>
                                            <a class="dropdown-item" href="#">August - November</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 grid-margin stretch-card">
                        <div>
                            <div class="card-people mt-auto">
                                <img style="height: 100% ; width: 100% ;object-fit: cover; margin-top: -17.5px"
                                     src="https://images.pexels.com/photos/618613/pexels-photo-618613.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500"
                                     alt="people">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 grid-margin transparent">
                        <div class="row">
                            <div class="col-md-6 mb-4 stretch-card transparent">
                                <div class="card card-tale">
                                    <div class="card-body">
                                        <p class="mb-4">Total Cars Left</p>
                                        <p class="fs-30 mb-2" id="quantity_oto"></p>
                                        <p id="quantity_oto_date"></p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 mb-4 stretch-card transparent">
                                <div class="card card-dark-blue">
                                    <div class="card-body">
                                        <p class="mb-4">Total Cars Sold</p>
                                        <p class="fs-30 mb-2" id="quantity_oto_sold"></p>
                                        <p id="quantity_oto_date_sold"></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-4 mb-lg-0 stretch-card transparent">
                                <div class="card card-light-blue">
                                    <div class="card-body">
                                        <p class="mb-4">Total Income</p>
                                        <p class="fs-30 mb-2" id="total_income"></p>
                                        <p id="total_income_date"></p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 stretch-card transparent">
                                <div class="card card-light-danger">
                                    <div class="card-body">
                                        <p class="mb-4">Number of Clients</p>
                                        <p class="fs-30 mb-2" id="number_of_clients"></p>
                                        <p id="number_of_clients_date"></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--              Product list   -->
                <div class="row">
                    <div class="col-md-12 grid-margin">
                        <table class="table table-striped table-hover" id="productList"></table>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 grid-margin stretch-card">
                        <div class="card position-relative">
                            <div class="card-body">
                                <div id="detailedReports"
                                     class="carousel slide detailed-report-carousel position-static pt-2"
                                     data-ride="carousel">
                                    <div class="carousel-inner">
                                        <div class="carousel-item active">
                                            <div class="row">
                                                <div class="col-md-12 col-xl-3 d-flex flex-column justify-content-start">
                                                    <div class="ml-xl-4 mt-3">

                                                        <p class="card-title">Total Profits</p>
                                                        <h1 id="text-primary" class="text-primary"></h1>
                                                        <h3 class="font-weight-500 mb-xl-4 text-primary">Viet Nam</h3>
                                                        <p class="mb-2 mb-xl-0">The total number of profits since the
                                                            Grand Opening. It is calculated whenever a registered client
                                                            books an order
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="col-md-12 col-xl-9">
                                                    <div class="row">
                                                        <div class="col-md-6 border-right">
                                                            <div class="table-responsive mb-3 mb-md-0 mt-3">
                                                                <table class="table table-borderless report-table">
                                                                    <tr>
                                                                        <td class="text-muted">Illinois</td>
                                                                        <td class="w-100 px-0">
                                                                            <div class="progress progress-md mx-4">
                                                                                <div class="progress-bar bg-primary"
                                                                                     role="progressbar"
                                                                                     style="width: 70%"
                                                                                     aria-valuenow="70"
                                                                                     aria-valuemin="0"
                                                                                     aria-valuemax="100"></div>
                                                                            </div>
                                                                        </td>
                                                                        <td><h5 class="font-weight-bold mb-0">713</h5>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="text-muted">Washington</td>
                                                                        <td class="w-100 px-0">
                                                                            <div class="progress progress-md mx-4">
                                                                                <div class="progress-bar bg-warning"
                                                                                     role="progressbar"
                                                                                     style="width: 30%"
                                                                                     aria-valuenow="30"
                                                                                     aria-valuemin="0"
                                                                                     aria-valuemax="100"></div>
                                                                            </div>
                                                                        </td>
                                                                        <td><h5 class="font-weight-bold mb-0">583</h5>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="text-muted">Mississippi</td>
                                                                        <td class="w-100 px-0">
                                                                            <div class="progress progress-md mx-4">
                                                                                <div class="progress-bar bg-danger"
                                                                                     role="progressbar"
                                                                                     style="width: 95%"
                                                                                     aria-valuenow="95"
                                                                                     aria-valuemin="0"
                                                                                     aria-valuemax="100"></div>
                                                                            </div>
                                                                        </td>
                                                                        <td><h5 class="font-weight-bold mb-0">924</h5>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="text-muted">California</td>
                                                                        <td class="w-100 px-0">
                                                                            <div class="progress progress-md mx-4">
                                                                                <div class="progress-bar bg-info"
                                                                                     role="progressbar"
                                                                                     style="width: 60%"
                                                                                     aria-valuenow="60"
                                                                                     aria-valuemin="0"
                                                                                     aria-valuemax="100"></div>
                                                                            </div>
                                                                        </td>
                                                                        <td><h5 class="font-weight-bold mb-0">664</h5>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="text-muted">Maryland</td>
                                                                        <td class="w-100 px-0">
                                                                            <div class="progress progress-md mx-4">
                                                                                <div class="progress-bar bg-primary"
                                                                                     role="progressbar"
                                                                                     style="width: 40%"
                                                                                     aria-valuenow="40"
                                                                                     aria-valuemin="0"
                                                                                     aria-valuemax="100"></div>
                                                                            </div>
                                                                        </td>
                                                                        <td><h5 class="font-weight-bold mb-0">560</h5>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="text-muted">Alaska</td>
                                                                        <td class="w-100 px-0">
                                                                            <div class="progress progress-md mx-4">
                                                                                <div class="progress-bar bg-danger"
                                                                                     role="progressbar"
                                                                                     style="width: 75%"
                                                                                     aria-valuenow="75"
                                                                                     aria-valuemin="0"
                                                                                     aria-valuemax="100"></div>
                                                                            </div>
                                                                        </td>
                                                                        <td><h5 class="font-weight-bold mb-0">793</h5>
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6 mt-3">
                                                            <canvas id="north-america-chart"></canvas>
                                                            <div id="north-america-legend"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--             content-wrapper ends-->
            <!--            partial:partials/_footer.html &ndash;&gt;-->
            <footer class="footer">
                <div class="d-sm-flex justify-content-center justify-content-sm-between">
                    <span class="text-muted text-center text-sm-left d-block d-sm-inline-block">Copyright Â© 2021.  Premium <a
                            href="https://www.bootstrapdash.com/" target="_blank">Bootstrap admin template</a> from BootstrapDash. All rights reserved.</span>
                    <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center">Hand-crafted & made with <i
                            class="ti-heart text-danger ml-1"></i></span>
                </div>
            </footer>
            <!-- partial -->
        </div>
        <!-- main-panel ends -->
    </div>
    <!-- page-body-wrapper ends -->
</div>
<!-- container-scroller -->


<!--Display modal-->
<!-- Modal -->
<div id="modal"></div>
<!-- Modal Create-->
<div class="modal fade" id="createModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header" style="background-color: aquamarine">
                <h5 class="modal-title" id="createModalLabel">Add New Product</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" style="background-color: aliceblue">
                <table cellpadding="10">
                    <tr>
                        <th>Name</th>
                        <td><input type="text" id="createName"></td>
                    </tr>
                    <tr>
                        <th>Type</th>
                        <td><input type="text" id="createType"></td>
                    </tr>

                    <tr>
                        <th>Seat</th>
                        <td><input type="text" id="createSeat"></td>
                    </tr>
                    <tr>
                        <th>Color</th>
                        <td>
                            <select id="createColor">
                                <option th:each="color:${colors}" th:text="${color.name}"
                                        th:value="${color.id}"></option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <th>Quantity</th>
                        <td><input type="text" id="createQuantity"></td>
                    </tr>
                    <tr>
                        <th>Purchased Price</th>
                        <td><input type="text" id="createBuyPrice"></td>
                    </tr>
                    <tr>
                        <th>Sale Price</th>
                        <td><input type="text" id="createSellPrice"></td>
                    </tr>
                    <tr>
                        <th>Brand</th>
                        <td>
                            <select id="createBrand">
                                <option th:each="brand:${brands}" th:text="${brand.name}"
                                        th:value="${brand.id}"></option>
                            </select>

                        </td>
                    </tr>
                    <tr>
                        <th>Image</th>
                        <td>
                            <form method="post" enctype="multipart/form-data" id="fileUploadForm">
                                <input type="file" name="files" id="fileUpload1"/><br/><br/>
                                <input type="file" name="files" id="fileUpload2"/><br/><br/>
                            </form>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="modal-footer" style="background-color: aliceblue">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button onclick="addNewProduct()" id="createButton" type="button" class="btn btn-success">Save
                </button>
            </div>
        </div>
    </div>
</div>
<!-- Modal Edit-->
<div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header" style="background-color: antiquewhite">
                <h5 class="modal-title" id="exampleModalLabel">Edit Product Information</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" style="background-color: floralwhite">
                <table cellpadding="10">
                    <tr>
                        <td><input type="hidden" id="editId"></td>
                    </tr>
                    <tr>
                        <th>Name</th>
                        <td><input type="text" id="editName"></td>
                    </tr>
                    <tr>
                        <th>Type</th>
                        <td><input type="text" id="editType"></td>
                    </tr>

                    <tr>
                        <th>Seat</th>
                        <td><input type="text" id="editSeat"></td>
                    </tr>
                    <tr>
                        <th>Color</th>
                        <td><select id="editColor">
                            <option th:each="color:${colors}" th:text="${color.name}"
                                    th:value="${color.id}"></option>
                        </select></td>
                    </tr>
                    <tr>
                        <th>Quantity</th>
                        <td><input type="text" id="editQuantity"></td>
                    </tr>
                    <tr>
                        <th>Purchased Price</th>
                        <td><input type="text" id="editBuyPrice"></td>
                    </tr>
                    <tr>
                        <th>Sale Price</th>
                        <td><input type="text" id="editSellPrice"></td>
                    </tr>
                    <tr>
                        <th>Brand</th>
                        <td>
                            <select id="editBrand">
                                <option th:each="brand:${brands}" th:text="${brand.name}"
                                        th:value="${brand.id}"></option>
                            </select>

                        </td>
                    </tr>
                    <tr>
                        <th>Image</th>
                        <td>
                            <form method="post" enctype="multipart/form-data" id="editFileUploadForm">
                                <img id="imgEdit1">
                                <input type="file" name="files" id="editInputImg1">
                                <img id="imgEdit2">
                                <input type="file" name="files" id="editInputImg2">
                            </form>
                        </td>
                    </tr>
                </table>

            </div>
            <div class="modal-footer" style="background-color: floralwhite">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button id="updateButton" type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>
<!-- delete modal-->
<div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header" style="background-color: crimson">
                <h3 class="modal-title" id="deleteModalLabel"><b>Are you sure ?</b></h3>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <table>
                    <tr>
                        <td><input type="hidden" value="${data.id}" id="deleteId"></td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <input style="border: none; color:crimson; font-weight: 600" type="text" id="deleteName" readonly>will be deleted.
                        </td>
                    </tr>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button id="deleteButton" type="button" class="btn btn-danger">Delete</button>
            </div>
        </div>
    </div>
</div>
<!--modal show view order by user-->
<div class="modal fade" id="show_Form_Order_Detail_by_user" tabindex="-1" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="showCate">Order Detail</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form>
<!--                    <div class="mb-3">-->
<!--                        <label for="name_user_name" class="col-form-label">Username:</label>-->
<!--                        <input readonly type="text" class="form-control" id="name_user_name">-->
<!--                    </div>-->
                    <div class="mb-3">
                        <table class="table table-striped table-hover" id="list_order_my">
                        </table>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Back</button>
            </div>
        </div>
    </div>
</div>

<!--modal order detail-->

<div class="modal fade" id="show_Form_Order_Detail" tabindex="-1" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Order Detail</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="mb-3">
                        <label for="name_user_id" class="col-form-label">full name:</label>
                        <input readonly type="text" class="form-control" id="name_user_id">
                    </div>
                    <div class="mb-3">
                        <table class="table table-striped table-hover" id="list_orderDetail">
                        </table>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Back</button>
            </div>
        </div>
    </div>
</div>


<!-- plugins:js -->
<script src="../../../admins/vendors/js/vendor.bundle.base.js"></script>
<!-- endinject -->
<!-- Plugin js for this page -->
<script src="../../../admins/vendors/chart.js/Chart.min.js"></script>
<script src="../../../admins/vendors/datatables.net/jquery.dataTables.js"></script>
<script src="../../../admins/vendors/datatables.net-bs4/dataTables.bootstrap4.js"></script>
<script src="../../../admins/js/dataTables.select.min.js"></script>

<!-- End plugin js for this page -->
<!-- inject:js -->
<script src="../../../admins/js/off-canvas.js"></script>
<script src="../../../admins/js/hoverable-collapse.js"></script>
<script src="../../../admins/js/template.js"></script>
<script src="../../../admins/js/settings.js"></script>
<script src="../../../admins/js/todolist.js"></script>

<!-- endinject -->
<!-- Custom js for this page-->
<script src="../../../admins/js/dashboard.js"></script>
<script src="../../../admins/js/Chart.roundedBarCharts.js"></script>
<!-- End custom js for this page-->
<!--search-->
<script rel="stylesheet" src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="../../../admins/js/search.js"></script>

<!--jv modal-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>

    // productList

    function showTableClients() {
        $.ajax({
            type: "GET",
            url: `/api/users`,
            success: showFormSuccess

        })
    }

    function showFormSuccess(data) {
        let content = `<tr>
                                    <td  colspan="11">

                                            <div class="row d-flex justify-content-center align-items-center">
                                                  <div class="col-md-8">
                                                        <div class="search"> <i class="fa fa-search"></i> <input style="margin-left: 10px" id="search_username" type="text" class="form-control" placeholder="Search by username">
                                                        <button onclick="searchByUsername()" id="bt_search_by_username" class="btn btn-primary">Search</button> </div>
                                                  </div>
                                            </div>
                                    </td>
                                </tr>
                                <tr>
                                  <th>#</th>
                                  <th>Username</th>
                                  <th>Email</th>
                                  <th>Total Money Spent</th>
                                  <th>Transaction History</th>
                               </tr>`;
        for (let i = 0; i < data.content.length; i++) {
            content += getClients(data.content[i], i + 1);
        }
        document.getElementById('productList').innerHTML = content;
    }

    function searchByUsername() {
        let username = $('#search_username').val();
        $.ajax({
            type: "GET",
            url: `/api/users/${username}`,
            success: showFormSuccess
        })
    }

    function getClients(client, i) {
        return `<tr>
                    <td>${i}</td>
                    <td>${client.username}</td>
                    <td>${client.email}</td>
                    <td>${client.totalSpent}</td>
                    <td>
                    <button onclick="transactionHistory(this.id)" id="${client.id}"  type="button" class="btn btn-primary"
                              data-bs-toggle="modal" data-bs-target="#show_Form_Order_Detail_by_user">
                                 View
                    </button>
                    </td>`;
    }

    function transactionHistory(id) {
        $.ajax({
            type: "GET",
            url: `/orders/${id}`,
            success: function (data) {
                let content = `<tr><td>#</td>
                                  <td>Date Order</td>
                                  <td>Order Detail</td></tr>`;

                // $('#name_user_name').val(data[0].user.username);
                if (data === undefined){
                    document.getElementById('list_order_my').innerHTML = 'No Transaction Found'
                } else {
                    for (let i = 0; i < data.length; i++) {
                        content += getOrderByUserId(data[i], i + 1)
                    }
                    document.getElementById('list_order_my').innerHTML = content;
                }
            },
            error: function (){
                document.getElementById('list_order_my').innerHTML = 'No Transaction Found'
            }
        })
    }

    // get order by id user
    function getOrderByUserId(order, i) {
        return `<tr><td >${i}</td>
                    <td >${order.date}</td>
<td>
                    <button onclick="getDetailOrder(this.id)" id="${order.id}"  type="button" class="btn btn-primary"
                              data-bs-toggle="modal" data-bs-target="#show_Form_Order_Detail">
                                 Order Detail
                         </button>
</td></tr>`;
    }

    // get order detail by order of user id

    function getDetailOrder(id) {
        $.ajax({
            type: "GET",
            url: `/orderdetails/${id}`,
            success: function (data) {
                $('#name_user_id').val(data.content[0].orders.user.username)
                let content = `<tr>
                                <th>Product Name</th>
                                <th>Price</th>
                                <th>Quantity</th>
                            </tr>`;
                for (let i = 0; i < data.content.length; i++) {
                    content += getContent(data.content[i])
                }
                let total = 0;
                for (let i = 0; i < data.content.length; i++) {
                    total += data.content[i].product.sellPrice * data.content[i].quantity;
                }
                content += `<tr><td></td>
        <td></td>
        <td></td>
        <td colspan="3">Total: ${total}</td>
        </tr>`;
                document.getElementById("list_orderDetail").innerHTML = content;
            }
        })
    }

    // get content of order detail
    function getContent(data) {
        return `<tr><td>${data.product.name}</td>
        <td>${data.product.sellPrice}</td>
        <td>${data.quantity}</td>
        <td>${data.product.sellPrice * data.quantity}</td></tr>`;
    }

    function search() {
        let q = $('#navbar-search-input').val();
        window.location.href = "https://www.google.com/search?q=" + q;
    }

    function setDate() {
        let date = formatDate();
        document.getElementById('quantity_oto_date').textContent = date + '';
        document.getElementById('quantity_oto_date_sold').textContent = date + '';
        document.getElementById('total_income_date').textContent = date + '';
        document.getElementById('number_of_clients_date').textContent = date + '';

    }

    function formatDate() {
        let date = new Date()
        let second = date.getSeconds();
        let minute = date.getMinutes()
        let hour = date.getHours()
        let day = date.getDate();
        let month = date.getMonth() + 1;
        let year = date.getFullYear();
        return hour + ':' + minute + ':' + second + ' ' + day + '/' + month + '/' + year;
    }

    function setTotalProduct() {
        $.ajax({
            type: "GET",
            url: `/products`,
            success: function (data) {
                let quantity = 0;
                for (let i = 0; i < data.content.length; i++) {
                    quantity += data.content[i].quantity;
                }
                document.getElementById('quantity_oto').textContent = '' + quantity + ' Cars';
            }
        })
    }

    function quantity_oto_sold() {
        $.ajax({
            type: "GET",
            url: `/orderdetails/admin`,
            success: function (data) {
                let total = 0;
                let totalPrice = 0;
                let buyPrice = 0;
                for (let i = 0; i < data.length; i++) {
                    total += data[i].quantity
                    totalPrice += data[i].product.sellPrice * data[i].quantity;
                    buyPrice += data[i].product.buyPrice * data[i].quantity;
                }
                document.getElementById('quantity_oto_sold').textContent = total + ' Cars';
                document.getElementById('total_income').textContent = '$ ' + totalPrice;
                document.getElementById('text-primary').textContent = '$ ' + (totalPrice - buyPrice);
            }
        })
    }

    function totalClients() {
        $.ajax({
            type: "GET",
            url: `/api/users`,
            success: function (data) {
                document.getElementById('number_of_clients').textContent = '' + (data.content.length - 1) + ' Clients';
            }
        })

    }

    function totalSetInterval() {
        quantity_oto_sold()
        setTotalProduct()
        totalClients()
    }

    $(document).ready(function () {
        setInterval(totalSetInterval, 5000)
        setInterval(setDate, 1000);
    })

    function showTableCars() {
        $.ajax({
            type: "GET",
            url: `/products`,
            success: function (data) {
                let content = `<tr>
                                    <td  colspan="11">
                                      <div class="row d-flex justify-content-center align-items-center">
                                              <div class="col-md-8">
                                                   <div class="search"> <i class="fa fa-search"></i> <input id="search1"  style="margin-left: 10px" id="search_username" type="text" class="form-control" placeholder="Search by Product Name">
                                                   <button onclick="searchByProduct()" id="bt_search" class="btn btn-primary">Search</button> </div>
                                              </div>
                                      </div>
                                    </td>

                                </tr>
                                <tr>
                                     <td colspan="11">
                                         <button type="button" class="btn btn-success" id="bt_showCreateProductForm"
                                         data-bs-toggle="modal" data-bs-target="#createModal">
                                         Add New Product
                                         </button>
                                    </td>
                                </tr>
                                <tr>
                                  <th>#</th>
                                  <th>Name</th>
                                  <th>Color</th>
                                  <th>Quantity</th>
                                  <th>Purchased</th>
                                  <th>Sale</th
                                  <th>Edit</th>
                                  <th>Delete</th>
                               </tr>`;
                for (let i = 0; i < data.content.length; i++) {
                    content += getProduct(data.content[i], i + 1);
                }
                document.getElementById('productList').innerHTML = content;
            }
        })
    }

    //--ve thong tin smartphone
    function getProduct(product, i) {
        let str = "";
        if (product.imageSet.length > 0) {
            product.imageSet.forEach(value =>
                str += `<img style="width: 100px ; height: 100px"src="/../image/${value.image}">`);
        }
        // <img th:each="img:${product.imageSet}" th:src="@{'/resources/static/image/' + ${img.image}}" alt="photo">

        return `<tr>
                    <td >${i}</td>
                    <td >${product.name}</td>
                    <td >${product.color.name}</td>
                    <td >${product.quantity}</td>
                    <td >${product.buyPrice}</td>
                    <td >${product.sellPrice}</td>`
                    +
            `<td>
                         <button onclick="editProduct(this.id)" id="${product.id}"  type="button" class="btn btn-primary"
                              data-bs-toggle="modal" data-bs-target="#editModal">
                                 Edit
                         </button>
                    </td>
                    <td>
                         <button onclick="deleteProduct(this.id)" id="${product.id}" type="button" class="btn btn-danger"
                            data-bs-toggle="modal" data-bs-target="#deleteModal">
                             Delete
                         </button>
                    </td>
                 </tr>`;
    }

    function successHandler() {

        $('#editModal').modal('hide');
        $('#createModal').modal('hide');
        $('#deleteModal').modal('hide');

        $.ajax({
            type: "get",
            url: "/products",
            success: function (data) {
                let content1 = `
                                  <tr>
                                    <td  colspan="11">
                                         <div class="row d-flex justify-content-center align-items-center">
                                              <div class="col-md-8">
                                                   <div class="search"> <i class="fa fa-search"></i> <input id="search1"  style="margin-left: 10px" id="search_username" type="text" class="form-control" placeholder="Search by Product Name">
                                                   <button onclick="searchByProduct()" id="bt_search" class="btn btn-primary">Search</button> </div>
                                              </div>
                                         </div>
                                    </td>
                                  </tr>
                                  <tr>
                                    <td colspan="11">
                                         <button type="button" class="btn btn-success"
                                         data-bs-toggle="modal" data-bs-target="#createModal">
                                         Add New Product
                                         </button>
                                    </td>
                                  </tr>
                                  <tr>
                                     <th>#</th>
                                     <th>Name</th>
                                     <th>Color</th>
                                     <th>Quantity</th>
                                     <th>Purchased</th>
                                     <th>Sale</th>
                                     <th>Edit</th>
                                     <th>Delete</th>
                                  </tr>`;

                for (let i = 0; i < data.content.length; i++) {
                    content1 += getProduct(data.content[i], i + 1);
                }
                document.getElementById('productList').innerHTML = content1;

            }

        });

    }

    //--- them moi
    function addNewProduct() {
        let form = $('#fileUploadForm')[0];

        let data = new FormData(form);

        data.append("CustomField", "This is some extra data, testing");

        $.ajax({
            type: "POST",
            enctype: 'multipart/form-data',
            url: "/api/upload/multi",
            data: data,
            processData: false, //prevent jQuery from automatically transforming the data into a query string
            contentType: false,
            cache: false,
            timeout: 600000,
            success: function (data) {
                let name = $('#createName').val();
                let type = $('#createType').val();
                let seat = $('#createSeat').val();
                let color = $('#createColor').val();
                let buyPrice = $('#createBuyPrice').val();
                let sellPrice = $('#createSellPrice').val();
                let quantity = $('#createQuantity').val();
                let brand = $('#createBrand').val();
                let newProduct = {
                    name: name,
                    type: type,
                    seat: seat,
                    color: {
                        id: color
                    },
                    buyPrice: buyPrice,
                    sellPrice: sellPrice,
                    quantity: quantity,
                    brand: {
                        id: brand
                    },
                    imageSet: data
                }
                $("#createName").val("")
                $("#createType").val("")
                $("#createQuantity").val("")
                $("#createSeat").val("")
                $("#createBuyPrice").val("")
                $("#createSellPrice").val("")
                $("#fileUpload1").val("")
                $("#fileUpload2").val("")
                //goi ajax
                $.ajax({
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    },
                    type: "POST",
                    data: JSON.stringify(newProduct),
                    // API
                    url: "/products",
                    //su ly khi thanh cong
                    success: successHandler
                });
                //chan su kien mac dinh cua the
                event.preventDefault();
            },
            error: function (e) {
                console.log("ERROR : ", e);

            }
        });
        event.preventDefault();

    }

    function editProduct(id) {
        let url = "/products/" + id;
        $('#editInputImg1').val("");
        $('#editInputImg2').val("");
        $.ajax({
            type: "get",
            url: url,
            success: function (data) {
                let modal = document.getElementById("modal");
                $('#editId').val(data.id);
                $('#editName').val(data.name);
                $('#editType').val(data.type);
                $('#editSeat').val(data.seat);
                $('#editColor').val(data.color);
                $('#editQuantity').val(data.quantity);
                $('#editBuyPrice').val(data.buyPrice);
                $('#editSellPrice').val(data.sellPrice);
                $('#editBrand').val(data.brand);


                $(document).ready(function () {
                    $("#updateButton").click(function (event) {
                        // upload file
                        let form = $('#editFileUploadForm')[0];

                        let data = new FormData(form);

                        data.append("ProductField", "This is some extra data, testing");

                        // $("#updateButton").prop("disabled", false);

                        $.ajax({
                            type: "POST",
                            enctype: 'multipart/form-data',
                            url: "/api/upload/multi",
                            data: data,
                            //http://api.jquery.com/jQuery.ajax/
                            //https://developer.mozilla.org/en-US/docs/Web/API/FormData/Using_FormData_Objects
                            processData: false, //prevent jQuery from automatically transforming the data into a query string
                            contentType: false,
                            cache: false,
                            timeout: 600000,
                            success: function (data) {
                                let id = $('#editId').val();
                                let name = $('#editName').val();
                                let type = $('#editType').val();
                                let seat = $('#editSeat').val();
                                let color = $('#editColor').val();
                                let buyPrice = $('#editBuyPrice').val();
                                let sellPrice = $('#editSellPrice').val();
                                let quantity = $('#editQuantity').val();
                                let brand = $('#editBrand').val();

                                let productEdit = {
                                    id: id,
                                    name: name,
                                    type: type,
                                    seat: seat,
                                    color: {
                                        id: color
                                    },
                                    buyPrice: buyPrice,
                                    sellPrice: sellPrice,
                                    quantity: quantity,
                                    brand: {
                                        id: brand
                                    },
                                    imageSet: data
                                }

                                //goi ajax
                                $.ajax({
                                    headers: {
                                        'Accept': 'application/json',
                                        'Content-Type': 'application/json'
                                    },
                                    type: "PUT",
                                    data: JSON.stringify(productEdit),
                                    // API
                                    url: "/products/" + id,
                                    //su ly khi thanh cong
                                    success: successHandler
                                });
                                //chan su kien mac dinh cua the
                                event.preventDefault();

                            },
                            error: function (e) {
                                console.log("ERROR : ", e);
                                //$("#updateButton").prop("disabled", false);
                            }
                        });
                    });
                    event.preventDefault();
                });
            }
        })
        event.preventDefault();
    }

    <!-- delete funcition-->
    function deleteProduct(id) {
        $.ajax({
            type: "get",
            url: `/products/` + id,
            success: function (data) {
                $('#deleteId').val(data.id);
                $('#deleteName').val(data.name);

                $(document).ready(function () {
                    $('#deleteButton').click(function (event) {
                        // goi ajax
                        $.ajax({
                            type: "DELETE",
                            //tÃªn API
                            url: `/products/` + id,
                            //xá»­ lÃ½ khi thÃ nh cÃ´ng
                            success: successHandler
                        });
                        //cháº·n sá»± kiá»n máº·c Äá»nh cá»§a tháº»
                        event.preventDefault();
                    });
                })
                event.preventDefault();
            }
        })

    }

    function searchByProduct() {
        let search = $('#search1').val();
        $.ajax({
            type: "get",
            url: `/products/search?search=${search}`,
            success: function (data) {
                let content1 = `
                                <tr>
                                    <td  colspan="11">
                                       <div class="row d-flex justify-content-center align-items-center">
                                              <div class="col-md-8">
                                                   <div class="search"> <i class="fa fa-search"></i> <input id="search1"  style="margin-left: 10px" id="search_username" type="text" class="form-control" placeholder="Search by Product Name">
                                                   <button onclick="searchByProduct()" id="bt_search" class="btn btn-primary">Search</button> </div>
                                              </div>
                                       </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="11">
                                         <button type="button" class="btn btn-success"
                                         data-bs-toggle="modal" data-bs-target="#createModal">
                                         Add New Product
                                         </button>
                                    </td>
                                  </tr>
                                <tr>
                                     <th>#</th>
                                     <th>Name</th>
                                     <th>Color</th>
                                     <th>Quantity</th>
                                     <th>Purchased</th>
                                     <th>Sale</th>
                                     <th>Edit</th>
                                     <th>Delete</th>
                               </tr>`;

                for (let i = 0; i < data.content.length; i++) {
                    content1 += getProduct(data.content[i], i + 1);
                }
                document.getElementById('productList').innerHTML = content1;

            }

        });
        event.preventDefault();
    }

    // // láº¥y colors vÃ  brands
    // var colors=[];
    // var brands=[];
    // $(document).ready(function () {
    //     $.ajax({
    //         type:'get',
    //         url:'/colors',
    //         success:function (data) {
    //             for (let i = 0; i < data.length; i++) {
    //                 let jsonColor = {};
    //                 jsonColor.id = data[i].id;
    //                 jsonColor.name = data[i].name;
    //                 colors.push(jsonColor);
    //             }
    //         }
    //     });
    //     $.ajax({
    //         type:'get',
    //         url:'/brands',
    //         success:function (data) {
    //             for (let i = 0; i < data.length; i++) {
    //                 let jsonBrand = {};
    //                 jsonBrand.id = data[i].id;
    //                 jsonBrand.name = data[i].name;
    //                 brands.push(jsonBrand);
    //             }
    //         }
    //     });
    //     let str="";
    //     for(let i =0; i< colors.length; i ++){
    //
    //     };
    // });
    //
    // // váº½ láº¡i option cho colors vÃ  brand
    // $(document).ready(function () {
    //     $('#bt_showCreateProductForm').click(function () {
    //         let contentColorSelectOption ="";
    //         for (let i = 0 ; i <colors.length; i ++){
    //             contentColorSelectOption +=`<option value='${colors[i].id}' >${colors[i].name}</option>`;
    //         }
    //         document.getElementById('createColor').innerHTML = contentColorSelectOption;
    //
    //         let contentBrandSelectOption ="";
    //         for (let i = 0 ; i <brands.length; i ++){
    //             contentColorSelectOption +=`<option value='${brands[i].id}' >${brands[i].name}</option>`;
    //         }
    //         document.getElementById('createBrand').innerHTML = contentBrandSelectOption;
    //     });
    // });
</script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $('#logout').click(function () {
            localStorage.clear();
            window.location.href = "/logout";
        });
    });

</script>
</body>
</html>


